<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0, maximum-scale=5.0" />
    <title>API.DEVS</title>
    <script type="module" crossorigin src="./assets/index-CkzjSkCv.js"></script>
    <link rel="stylesheet" crossorigin href="./assets/index-BaOGAZ51.css">

    <style>
        /* Мобильные стили */
        @media (max-width: 768px) {
            * {
                box-sizing: border-box;
                max-width: 100%;
            }

            /* Скрываем сайдбар по умолчанию */
            aside,
            nav[class*="sidebar"],
            div[class*="sidebar"],
            .sidebar,
            [class*="Sidebar"],
            #sidebar {
                position: fixed !important;
                left: -100% !important;
                top: 0 !important;
                width: 85% !important;
                height: 100vh !important;
                z-index: 1000 !important;
                transition: left 0.3s ease !important;
                background: #0f172a !important;
                overflow-y: auto !important;
            }

            /* Открытое состояние */
            .mobile-menu-open aside,
            .mobile-menu-open nav[class*="sidebar"],
            .mobile-menu-open div[class*="sidebar"],
            .mobile-menu-open .sidebar,
            .mobile-menu-open [class*="Sidebar"],
            .mobile-menu-open #sidebar {
                left: 0 !important;
            }

            /* Оверлей */
            .menu-overlay {
                display: none;
                position: fixed;
                top: 0;
                left: 0;
                width: 100%;
                height: 100%;
                background: rgba(0,0,0,0.6);
                z-index: 999;
            }

            .mobile-menu-open .menu-overlay {
                display: block;
            }

            /* Кнопка бургер — ТОЛЬКО когда меню закрыто */
            .menu-toggle {
                display: flex;
                position: fixed;
                top: 15px;
                left: 15px;
                z-index: 998; /* Ниже меню */
                background: #3b82f6;
                color: white;
                border: none;
                width: 44px;
                height: 44px;
                border-radius: 10px;
                font-size: 20px;
                align-items: center;
                justify-content: center;
                cursor: pointer;
                box-shadow: 0 4px 12px rgba(59, 130, 246, 0.4);
                transition: opacity 0.2s;
            }

            /* Скрываем кнопку когда меню открыто */
            .mobile-menu-open .menu-toggle {
                opacity: 0;
                pointer-events: none; /* Отключаем клики */
            }

            /* Показываем кнопку закрытия внутри меню */
            .mobile-menu-open aside .close-btn,
            .mobile-menu-open nav .close-btn,
            .mobile-menu-open .sidebar-header button,
            .mobile-menu-open [class*="close"] {
                display: block !important;
                z-index: 1001 !important;
            }

            /* Адаптация текста */
            h1, h2, .text-4xl, .text-3xl {
                font-size: 1.5rem !important;
            }
            
            .grid, [class*="grid"] {
                grid-template-columns: 1fr !important;
            }

            /* Увеличиваем области клика для пунктов меню */
            aside a, aside button,
            nav a, nav button,
            .sidebar a, .sidebar button {
                min-height: 48px;
                display: flex;
                align-items: center;
                padding: 12px 20px !important;
            }
        }

        @media (min-width: 769px) {
            .menu-toggle, .menu-overlay {
                display: none !important;
            }
        }
    </style>
</head>
<body>
    <!-- Оверлей для закрытия по клику вне меню -->
    <div class="menu-overlay" id="menuOverlay"></div>

    <!-- Кнопка меню -->
    <button class="menu-toggle" id="menuBtn" aria-label="Открыть меню">☰</button>

    <div id="root"></div>

    <script>
        (function() {
            const btn = document.getElementById('menuBtn');
            const overlay = document.getElementById('menuOverlay');
            const body = document.body;
            let isOpen = false;

            function toggleMenu() {
                isOpen = !isOpen;
                
                if (isOpen) {
                    body.classList.add('mobile-menu-open');
                    btn.innerHTML = '✕';
                    btn.style.background = '#ef4444';
                    // Перемещаем кнопку внутрь меню или скрываем
                    btn.style.zIndex = '1001';
                } else {
                    body.classList.remove('mobile-menu-open');
                    btn.innerHTML = '☰';
                    btn.style.background = '#3b82f6';
                    btn.style.zIndex = '998';
                }
            }

            function closeMenu() {
                if (isOpen) toggleMenu();
            }

            // Открытие по кнопке
            btn.addEventListener('click', function(e) {
                e.stopPropagation();
                toggleMenu();
            });

            // Закрытие по оверлею
            overlay.addEventListener('click', closeMenu);

            // Закрытие при клике на пункт меню (только если это ссылка)
            document.addEventListener('click', function(e) {
                if (isOpen && e.target.closest('aside a, nav a, .sidebar a, [class*="Sidebar"] a')) {
                    // Даем время для перехода по ссылке
                    setTimeout(closeMenu, 150);
                }
            });

            // Закрытие при изменении размера окна
            window.addEventListener('resize', function() {
                if (window.innerWidth > 768 && isOpen) {
                    closeMenu();
                }
            });

            // Свайп для закрытия (опционально)
            let touchStartX = 0;
            document.addEventListener('touchstart', function(e) {
                touchStartX = e.touches[0].clientX;
            });

            document.addEventListener('touchend', function(e) {
                if (!isOpen) return;
                const touchEndX = e.changedTouches[0].clientX;
                // Свайп влево закрывает меню
                if (touchStartX - touchEndX > 50) {
                    closeMenu();
                }
            });
        })();
    </script>
</body>
</html>
